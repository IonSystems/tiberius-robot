{% load staticfiles %}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
	{% include "head.html" %}
	<title>View Mission</title>
	<link href="{% static 'tiberius/css/navigation-grid.css' %}" rel="stylesheet" />
</head>
<body>
	<!-- begin #page-loader -->
	<div id="page-loader" class="fade"><span class="spinner"></span></div>
	<!-- end #page-loader -->

	<!-- begin #page-container -->
	<div id="page-container" class="fade in page-sidebar-fixed page-header-fixed">
		<!-- begin #header -->
		<div id="header" class="header navbar navbar-default navbar-fixed-top">
			{% include "top_bar_populated.html" %}
		</div>
		<!-- end #header -->

		<!-- begin #sidebar -->
		<div id="sidebar" class="sidebar">
			{% include "sidebar.html" %}
		</div>
		<div class="sidebar-bg"></div>
		<!-- end #sidebar -->

		<!-- begin #content -->
		<div id="content" class="content">
			<!-- begin breadcrumb -->
			<ol class="breadcrumb pull-right">
				<li><a href="/">Home</a></li>
				<li><a href="/missionplanner/">Mission Planner</a></li>
				<li class="active">Mission Control Panel</li>
			</ol>
			<!-- end breadcrumb -->
			<!-- begin page-header -->
			<h1 class="page-header">Mission Control Panel <small>for experienced users only.</small></h1>
			<!-- end page-header -->
			<div class= "row">
			<div class="col-md-6 ui-sortable">
				<div class="panel panel-inverse">
						<div class="panel-heading">
								<div class="panel-heading-btn">
										<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
										<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
										<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
										<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a>
								</div>
								<h4 class="panel-title">Mission Information</h4>
						</div>

						<div class="panel-body">
			<!-- begin profile-container -->
            <div class="profile-container">
                <!-- begin profile-section -->
                <div class="profile-section">
                    <!-- begin profile-left -->
                    <div class="profile-left">
                        <!-- begin profile-image -->
                        <div class="profile-image">
                            <img src="assets/img/profile-cover.jpg" />
                            <i class="fa fa-user hide"></i>
                        </div>
                        <!-- end profile-image -->
                        <div class="m-b-10">
                            <a href="#" class="btn btn-warning btn-block btn-sm">Change Picture</a>
                        </div>
                        <!-- begin profile-highlight -->
                        <div class="profile-highlight">
                            <h4><i class="fa fa-cog"></i> Only My Contacts</h4>
                            <div class="checkbox m-b-5 m-t-0">
                                <label><input type="checkbox" /> Show my timezone</label>
                            </div>
                            <div class="checkbox m-b-0">
                                <label><input type="checkbox" /> Show i have 14 contacts</label>
                            </div>
                        </div>
                        <!-- end profile-highlight -->
                    </div>
                    <!-- end profile-left -->
                    <!-- begin profile-right -->
                    <div class="profile-right">
                        <!-- begin profile-info -->
                        <div class="profile-info">
                            <!-- begin table -->
                            <div class="table-responsive">
                                <table class="table table-profile">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>
                                                <h4>Mission: {{ mission.name}}
																									{% if mission.description != "" %}
																									<small>Description: {{ mission.description}}</small>
																									{% endif %}
																								</h4>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="highlight">
                                            <td class="field">Creator: </td>
                                            <td><a href="#">Add Mood Message</a></td>
                                        </tr>
                                        <tr class="divider">
                                            <td colspan="2"></td>
                                        </tr>


                                        <tr class="highlight">
                                            <td class="field">Tasks</td>
																						<td>
																						<ul>
																						{% for ob in objectives %}
																							<li>
																								<a href="/missionplanner/view_task/{{ ob.task.id }}">
																									{{ ob.task.name}}
																								</a>
																							</li>
																						{% endfor %}
																					</ul>
																				</td>
                                        </tr>

																				<tr class="highlight">
                                            <td class="field">Waypoints</td>
																						<td>
																						<ul>
																						{% for ob in objectives %}
																							<li>
																								<a href="/missionplanner/view_task/{{ ob.task.id }}">
																									{{ ob.waypoint}}
																								</a>
																							</li>
																						{% endfor %}
																					</ul>
																				</td>
                                        </tr>
                                        <tr class="divider">
                                            <td colspan="2"></td>
                                        </tr>

																				<tr class="highlight">
                                            <td class="field">Supported Platforms</td>
																						<td>
																						<ul>
																						{% for sp in mission.supported_platforms.all %}
																							<li>
																								<a href="/fleet/view_robot/{{ sp.id }}">
																									{{ sp }}
																								</a>
																							</li>
																						{% endfor %}
																					</ul>
																				</td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                            <!-- end table -->
                        </div>
                        <!-- end profile-info -->
                    </div>
                    <!-- end profile-right -->

									</div></div></div>





							</div><!-- end row -->
                </div>
                <!-- end profile-section -->

            </div>
						<div class = "row">
						<div class="col-md-6 ui-sortable">
			<!-- begin panel -->
						<div class="panel panel-inverse">
								<div class="panel-heading">
										<div class="panel-heading-btn">
												<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
												<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
												<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
												<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a>
										</div>
										<h4 class="panel-title">Mission Status</h4>
								</div>

								<div class="panel-body">
										<div id="data-table_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
											<div class="row"><div class="col-sm-6"><div class="dataTables_length" id="data-table_length">
												<label>Show <select name="data-table_length" aria-controls="data-table" class="form-control input-sm">
													<option value="20">20</option>
													<option value="40">40</option>
													<option value="60">60</option>
												</select> entries
											</label>
										</div>
									</div>
									<div class="col-sm-6">
										<div id="data-table_filter" class="dataTables_filter">
											<label>Search:<input type="search" class="form-control input-sm" placeholder="" aria-controls="data-table">
											</label>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12">
										<table id="data-table" class="table table-striped table-bordered dataTable no-footer dtr-inline" role="grid" aria-describedby="data-table_info">
												<tbody>
												<tr class="gradeA odd" role="row">
														{% for ob in objectives %}
														<tr class="gradeA" role="row">
																<td class="sorting_1">{{ ob.order }}</td>
																<td>{{ ob.waypoint.latitude }}</td>
																<td>{{ ob.waypoint.longitude }}</td>
																<td>{{ ob.task.name}}</td>
																<td>
																	<button
																		id = "goto_button"
																		class="btn btn-primary btn-sm m-r-5"
																		data-longitude= "{{ ob.waypoint.longitude }}"
																		data-latitude= "{{ ob.waypoint.latitude }}"
																		data-ipaddress= "{{ platform.ip_address }}"
																		data-speed= "100"
																	>Goto</button>
																	{% if ob.task %}
																	<a href="#modal-dialog" class="btn btn-primary btn-sm m-r-5" data-toggle="modal">Run Task</a>
																	{% endif %}
																</td>
														</tr>
														{% endfor %}
													</tbody>
										<thead>
														<tr role="row">
															<th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Latitude: activate to sort column descending" style="width: 220px;">Order</th>
															<th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Latitude: activate to sort column descending" style="width: 220px;">Latitude</th>
															<th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Longitude: engine: activate to sort column descending" style="width: 220px;">Longitude</th>
															<th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Task: activate to sort column ascending" style="width: 287px;">Task</th>
															<th class="sorting" tabindex="0" aria-controls="data-table" rowspan="1" colspan="1" aria-label="Platform(s): activate to sort column ascending" style="width: 260px;">Actions</th>
														</tr>
												</thead></table></div></div><div class="row"><div class="col-sm-5"><div class="dataTables_info" id="data-table_info" role="status" aria-live="polite">Showing 1 to 20 of 57 entries</div></div><div class="col-sm-7"><div class="dataTables_paginate paging_simple_numbers" id="data-table_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="data-table_previous"><a href="#" aria-controls="data-table" data-dt-idx="0" tabindex="0">Previous</a></li><li class="paginate_button active"><a href="#" aria-controls="data-table" data-dt-idx="1" tabindex="0">1</a></li><li class="paginate_button "><a href="#" aria-controls="data-table" data-dt-idx="2" tabindex="0">2</a></li><li class="paginate_button "><a href="#" aria-controls="data-table" data-dt-idx="3" tabindex="0">3</a></li><li class="paginate_button next" id="data-table_next"><a href="#" aria-controls="data-table" data-dt-idx="4" tabindex="0">Next</a></li></ul></div></div></div></div>
								</div>
						</div>
						<!-- end panel -->
				</div>
						<div class = "col-md-5 ui-sortable" >
						<div class="panel panel-inverse" data-sortable-id="index-9">
																<div class="panel-heading">
																		<div class="panel-heading-btn">
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a>
																		</div>
																		<h4 class="panel-title">Global Positioning System</h4>
																</div>
																<div class="panel-body p-0">
																		<div id="google-map-viewing" class="height-sm width-full"></div>
																</div>
						</div>
						</div>
						<div class = "col-md-5 ui-sortable" >
						<div class="panel panel-inverse" data-sortable-id="index-9">
																<div class="panel-heading">
																		<div class="panel-heading-btn">
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a>
																		</div>
																		<h4 class="panel-title">Waypoint Control</h4>
																</div>
																<div class="panel-body p-0">
																		<div id="waypoint-control" class="height-sm width-full">
																			<a href="#modal-dialog" class="btn btn-primary btn-sm m-r-5" data-toggle="modal">Goto next waypoint</a>
																			<a href="#modal-dialog" class="btn btn-primary btn-sm m-r-5" data-toggle="modal">Run task</a>
																		</div>
																</div>
						</div>
						<div class="panel panel-inverse" data-sortable-id="index-9">
																<div class="panel-heading">
																		<div class="panel-heading-btn">
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
																				<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a>
																		</div>
																		<h4 class="panel-title">Navigation Matrix</h4>
																</div>
																<div class="panel-body p-0">
																	<table class="navigation_table" border=1 style="border-collapse: collapse;" id="table">
																		<h2>Tiberius A* Pathing Grid</h2>
																	</table>
																</div>
						</div>
						</div>
					</div> <!-- end row-->
			<!-- end profile-container -->

		</div>

		<!-- end #content -->

        <!-- begin theme-panel -->
        <div class="theme-panel">
            {% include "theme_panel.html" %}
        </div>
        <!-- end theme-panel -->

		<!-- begin scroll to top btn -->
		<a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
		<!-- end scroll to top btn -->
	</div>
	<!-- end page container -->

	{% include "script.html" %}
	<script src="https://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyDkFor-_BtfyOvNRxfqbNJdacVzIpQTw0Y"></script>
	<script src="{% static 'tiberius/js/charify.js' %}"></script>
	<script src="{% static 'tiberius/js/tiblib.js' %}"></script>
	<script type="text/javascript">
		var tiberiusImg = "<img src=\"{% static 'tiberius/img/arrows/tiberius.png' %}\" width=60em />";
		var leftImg = "<img src=\"{% static 'tiberius/img/arrows/arrow_left.png' %}\" width=50em />";
		var upImg = "<img src=\"{% static 'tiberius/img/arrows/arrow_up.png' %}\" width=50em />";
		var rightImg = "<img src=\"{% static 'tiberius/img/arrows/arrow_right.png' %}\" width=50em />";
		var downImg = "<img src=\"{% static 'tiberius/img/arrows/arrow_down.png' %}\" width=50em />";
	</script>
	<script src="{% static 'tiberius/js/navigation-grid.js' %}"></script>
	<script src="{% static 'tiberius/js/control-map-google.js' %}"></script>
	<script src="{% static 'tiberius/js/control-nav-requests.js' %}"></script>
	<script src="{% static 'color-admin/plugins/DataTables/media/js/jquery.dataTables.js' %}"></script>
	<script src="{% static 'color-admin/plugins/DataTables/media/js/dataTables.bootstrap.min.js' %}"></script>
	<script src="{% static 'color-admin/plugins/DataTables/extensions/Responsive/js/dataTables.responsive.min.js' %}"></script>
	<script src="{% static 'color-admin/js/apps.min.js' %}"></script>

	<script>
		$(document).ready(function() {
			App.init();
			ViewingGoogleMap.init({{ json_objectives }});
			NavigationRequests.init("{{ platform.ip_address }}");
		});
	</script>
</body>
</html>
