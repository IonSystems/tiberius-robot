{% load staticfiles %}
<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
    {% include "head.html" %}
    <!-- ================== BEGIN PAGE LEVEL STYLE ================== -->
    <link href="{% static 'color-admin/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/plugins/bootstrap-datepicker/css/datepicker.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/plugins/bootstrap-datepicker/css/datepicker3.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/plugins/gritter/css/jquery.gritter.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/css/control.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/plugins/switchery/switchery.min.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/plugins/powerange/powerange.min.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/plugins/ionRangeSlider/css/ion.rangeSlider.css' %}" rel="stylesheet"/>
    <link href="{% static 'color-admin/plugins/ionRangeSlider/css/ion.rangeSlider.skinHTML5.css' %}" rel="stylesheet"/>
    <!-- ================== END PAGE LEVEL STYLE ================== -->
    <title>{{Control}}</title>
</head>
<body>
<!-- begin #page-loader -->
<div id="page-loader" class="fade in"><span class="spinner"></span></div>
<!-- end #page-loader -->

<!-- begin #page-container -->
<div id="page-container" class="fade page-sidebar-fixed page-header-fixed">
    <!-- begin #header -->
    <div id="header" class="header navbar navbar-default navbar-fixed-top">
        {% include "top_bar_populated.html" %}
    </div>
    <!-- end #header -->

    <!-- begin #sidebar -->
    <div id="sidebar" class="sidebar">
        {% include "sidebar.html" %}
    </div>
    <div class="sidebar-bg"></div>
    <!-- end #sidebar -->

    <!-- begin #content -->
    <div id="content" class="content">
        <!-- begin breadcrumb -->
        <ol class="breadcrumb pull-right">
            <li><a href="javascript:;">Home</a></li>
            <li class="active">Dashboard</li>
        </ol>
        <!-- end breadcrumb -->
        <!-- begin page-header -->
        <h1 class="page-header">Control
            <small>the future of robotics...</small>
        </h1>
        <!-- end page-header -->

        <!-- begin row -->
        <div class="row">
            <!-- begin col-8 -->
            <div class="col-md-3">
                <div class="panel panel-inverse" data-sortable-id="ui-buttons-3">
                    <div class="panel-heading">
                        <div class="panel-heading-btn">
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default"
                               data-click="panel-expand"><i class="fa fa-expand"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success"
                               data-click="panel-reload"><i class="fa fa-repeat"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning"
                               data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger"
                               data-click="panel-remove"><i class="fa fa-times"></i></a>
                        </div>
                        <h4 class="panel-title">Drive Control</h4>
                    </div>
                    <div class="panel-body">

                                <h4>Movement Panel</h4>
                                <p>
                                    Use the buttons to move and the slider to control the power of each movement.
                                </p>
                                <div style="margin: 15px;" class="row">

                                    <table id="com-chilipeppr-widget-xyz">
                                        <tr valign="top">
                                            <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                                <button id="button_left"
                                                        class="btn btn-white dbltall"
                                                        title="Turn Left">
                                                        <span class="fa fa-2x fa-arrow-left"></span>
                                                </button>
                                            </td>
                                            <td>
                                                <div class="btn-group-vertical" style="margin-right:-0px;">
                                                    <button id="button_forward"
                                                            class="btn btn-white"
                                                            title="Forward">
                                                            <span class="fa fa-2x fa-arrow-up"></span>
                                                    </button>
                                                    <button id="button_backward"
                                                            class="btn btn-white"
                                                            title="Reverse">
                                                            <span class="fa fa-2x fa-arrow-down"></span>
                                                    </button>
                                                </div>
                                            </td>
                                            <td>
                                                <button id = "button_right"
                                                        class="btn btn-white dbltall"
                                                        title="Turn Right">
                                                       <span class="fa fa-2x fa-arrow-right"></span>
                                                </button>
                                            </td>
                                            <td>
                                                <button id="button_stop"
                                                        class="btn dbltall btn-danger"
                                                        title="Stop"
                                                        style="padding: 0px 10px;">
                                                        <span class="fa fa-2x fa-stop"/>
                                                </button>
                                            </td>


                                        </tr>

                                    </table>

                                </div>
                                <div class="row">
                                  <!-- TODO: Status Buttons-->
                                  <!--
                                  <div class="btn-group m-r-5 m-b-5">
                                    <a href="javascript:;" class="btn btn-success">Stopped</a>
                                    <a aria-expanded="false" href="javascript:;" data-toggle="dropdown" class="btn btn-success dropdown-toggle">
                                      <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu pull-right">
                                      <li><a href="javascript:;">Moving Forward</a></li>
                                      <li><a href="javascript:;">Moving Backwards</a></li>
                                      <li><a href="javascript:;">Turning Left</a></li>
                                      <li><a href="javascript:;">Turning Right</a></li>
                                    </ul>
                                  </div>
                                  -->
                                </div>
                                <!-- begin row -->
                                <div class="row">
                                    <!-- begin col-8 -->

                                    <div class="col-md-8">
                                        <div class="slider-wrapper">
                                          Speed:
                                            <span id="speed_slider"</span>
                                        </div>
                                    </div>
                                    <!-- end col-9 -->
                                </div>
                                <!-- end row -->

                        <!-- end row -->


                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="panel panel-inverse" data-sortable-id="ui-buttons-3">
                    <div class="panel-heading">
                        <div class="panel-heading-btn">
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default"
                               data-click="panel-expand"><i class="fa fa-expand"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success"
                               data-click="panel-reload"><i class="fa fa-repeat"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning"
                               data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger"
                               data-click="panel-remove"><i class="fa fa-times"></i></a>
                        </div>
                        <h4 class="panel-title">Arm Control</h4>
                    </div>
                    <div class="panel-body">

                                <h4>Arm Control Panel</h4>
                                <p>
                                    Use the arrow buttons to control the position of the robotic hand.
                                </p>
                                <div style="margin: 15px;" class="row">

                                    <table id="com-chilipeppr-widget-xyz">
                                        <tr valign="top">
                                            <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                                <button id="arm_button_x_minus"
                                                        class="btn btn-white  dbltall"
                                                        title="X -">
                                                        <span class="fa fa-2x fa-arrow-left"></span>
                                                </button>
                                            </td>
                                            <td>
                                                <div class="btn-group-vertical" style="margin-right:-0px;">
                                                    <button id="arm_button_y_plus"
                                                            class="btn btn-white"
                                                            title="Y +">
                                                            <span class="fa fa-2x fa-arrow-up"></span>
                                                    </button>
                                                    <button id="arm_button_y_minus"
                                                            class="btn btn-white"
                                                            title="Y -">
                                                            <span class="fa fa-2x fa-arrow-down"></span>
                                                    </button>
                                                </div>
                                            </td>
                                            <td>
                                                <button id = "arm_button_x_plus"
                                                        class="btn btn-white dbltall"
                                                        title="X +">
                                                       <span class="fa fa-2x fa-arrow-right"></span>
                                                </button>
                                            </td>
                                            <td>
                                                <button id="arm_button_stop"
                                                        class="btn dbltall btn-danger"
                                                        title="Stop"
                                                        style="padding: 0px 10px;">
                                                        <span class="fa fa-2x fa-stop"/>
                                                </button>
                                            </td>
                                            <td>
                                                <div class="btn-group-vertical" style="margin-right:-0px;">
                                                    <button id="arm_button_z_plus"
                                                            class="btn btn-white"
                                                            title="Z +">
                                                            <span class="fa fa-2x fa-arrow-up"></span>
                                                    </button>
                                                    <button id="arm_button_z_minus"
                                                            class="btn btn-white"
                                                            title="Z -">
                                                            <span class="fa fa-2x fa-arrow-down"></span>
                                                    </button>
                                                </div>
                                            </td>


                                        </tr>

                                    </table>

                                </div>

                                <!-- begin row -->
                                <div class="row">
                                    <!-- begin col-8 -->

                                    <div class="col-md-8">
                                        <div class="arm-slider-wrapper">
                                          Speed:
                                            <span id="arm_speed_slider"</span>
                                        </div>
                                    </div>
                                    <!-- end col-9 -->
                                </div>
                                <h4>The Claw</h4>
                                <div style="margin: 15px;" class="row">
                                  <div class="col-md-8">
                                  <table id="com-chilipeppr-widget-xyz">
                                      <tr valign="top">
                                          <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                              <button id="arm_button_grab_plus"
                                                      class="btn btn-white  dbltall"
                                                      title="Grasp">
                                                      <span class="fa fa-2x fa-plus"></span>
                                              </button>
                                          </td>
                                          <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                              <button id="arm_button_grab_minus"
                                                      class="btn btn-white  dbltall"
                                                      title="Ungrasp">
                                                      <span class="fa fa-2x fa-minus"></span>
                                              </button>
                                          </td>
                                        </tr>
                                      </table>
                                    </div>
                                    <div class="col-md-4">
                                      <table id="com-chilipeppr-widget-xyz">
                                            <tr>
                                              <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                                  <button id="arm_button_centre"
                                                          class="btn btn-white"
                                                          title="Centre">
                                                          <span class="fa fa-2x fa-align-center"></span> Centre
                                                  </button>
                                              </td>
                                            </tr>
                                            <!-- <tr>
                                              <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                                  <button id="arm_button_basket"
                                                          class="btn btn-white"
                                                          title="Basket">
                                                          <span class="fa fa-2x fa-shopping-cart"></span> Basket
                                                  </button>
                                              </td>
                                            </tr> -->
                                            <tr>
                                              <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                                  <button id="arm_button_park"
                                                          class="btn btn-white"
                                                          title="Park">
                                                          <span class="fa fa-2x fa-car"></span> Park
                                                  </button>
                                              </td>
                                            </tr>
                                            <tr>
                                              <td class="col xcol-xs-2" style="border:0px yellow solid;">
                                                  <button id="arm_button_home"
                                                          class="btn btn-white"
                                                          title="Home">
                                                          <span class="fa fa-2x fa-home"></span> Home
                                                  </button>
                                              </td>
                                            </tr>
                                          </table>
                                    </div>
                                </div>
                                <!-- end row -->

                        <!-- end row -->


                    </div>
                </div>
            </div>
            <!-- end col-8 -->
            <div class="col-md-4 ui-sortable">
                <div class="panel panel-inverse" data-sortable-id="ui-buttons-4">
                    <div class="panel-heading">
                        <div class="panel-heading-btn">
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default"
                               data-click="panel-expand"><i class="fa fa-expand"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success"
                               data-click="panel-reload"><i class="fa fa-repeat"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning"
                               data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger"
                               data-click="panel-remove"><i class="fa fa-times"></i></a>
                        </div>
                        <h4 class="panel-title">Information</h4>
                    </div>
                    <div class="panel-body">
                        <div>You are currently controlling {{ ruc.name}} ({{ robot_online }})</div>
                        <div>You are communicating with IP Address {{ ruc.ip_address }}</div>
                        <div>Estimated battery life remaining is not available.</div>
                        <a href="#modal-dialog" class="btn btn-sm btn-success" data-toggle="modal">Switch Robot</a>
                    </div>
                </div>
                <div class="panel panel-inverse" data-sortable-id="index-9">
                    <div class="panel-heading">
                        <div class="panel-heading-btn">
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default"
                               data-click="panel-expand"><i class="fa fa-expand"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success"
                               data-click="panel-reload"><i class="fa fa-repeat"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning"
                               data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger"
                               data-click="panel-remove"><i class="fa fa-times"></i></a>
                        </div>
                        <h4 class="panel-title">Global Positioning System</h4>
                    </div>
                    <div class="panel-body p-0">
                        <div id="world-map" class="height-sm width-full"></div>
                    </div>
                </div>
                <div class="panel panel-inverse" data-sortable-id="index-9">
                    <div class="panel-heading">
                        <div class="panel-heading-btn">
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default"
                               data-click="panel-expand"><i class="fa fa-expand"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success"
                               data-click="panel-reload"><i class="fa fa-repeat"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning"
                               data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger"
                               data-click="panel-remove"><i class="fa fa-times"></i></a>
                        </div>
                        <h4 class="panel-title">Live Camera View</h4>
                    </div>
                    <div class="panel-body p-0">
                        <iframe src="http://10.113.211.235:8081"></iframe>
                    </div>
                </div>





            </div>
            <div class="panel panel-inverse" data-sortable-id="index-9">
                <div class="panel-heading">
                    <div class="panel-heading-btn">
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default"
                           data-click="panel-expand"><i class="fa fa-expand"></i></a>
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success"
                           data-click="panel-reload"><i class="fa fa-repeat"></i></a>
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning"
                           data-click="panel-collapse"><i class="fa fa-minus"></i></a>
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger"
                           data-click="panel-remove"><i class="fa fa-times"></i></a>
                    </div>
                    <h4 class="panel-title">Status Monitoring</h4>
                </div>
                <div class="panel-body p-0">
                  <div class="row">
                    <div class="col-md-8">
                    <!-- TODO: Status Buttons-->

                    <div class="btn-group m-r-5 m-b-5"
                          style="padding:1em;">
                      <a href="javascript:;" class="btn btn-success">Stopped</a>
                      <a aria-expanded="false" href="javascript:;" data-toggle="dropdown" class="btn btn-success dropdown-toggle">
                        <span class="caret"></span>
                      </a>
                      <ul class="dropdown-menu pull-right">
                        <li><a href="javascript:;">Moving Forward</a></li>
                        <li><a href="javascript:;">Moving Backwards</a></li>
                        <li><a href="javascript:;">Turning Left</a></li>
                        <li><a href="javascript:;">Turning Right</a></li>
                      </ul>
                    </div>
                  </div>

                  </div>
                    <!-- Camera View Here -->
                </div>
            </div>
        </div>
        <!-- end row -->
    </div>
    <div class="modal fade in" id="modal-dialog" style="display: none;">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
											<h4 class="modal-title">Select a Robot</h4>
										</div>

                    <form action="/control/{{ ruc.id }}/" method="post">
                      <div class="modal-body">
  											Please select a robot from the drop-down list below:
                        {% csrf_token %}
                        {{ form }}
                      </div>
										  <div class="modal-footer">
  											<a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal">Close</a>
                        <input class= "btn btn-sm btn-success" type="submit" value="Submit" />
                      </div>
                  </form>

									</div>
								</div>
							</div>
    <!-- end #content -->

    <!-- begin theme-panel -->
    <div class="theme-panel">
        {% include "theme_panel.html" %}
    </div>
    <!-- end theme-panel -->

    <!-- begin scroll to top btn -->
    <a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i
            class="fa fa-angle-up"></i></a>
    <!-- end scroll to top btn -->
</div>
<!-- end page container -->

{% include "script.html" %}
<!-- ================== BEGIN PAGE LEVEL JS ================== -->
<!-- For modal -->
<script src="{% static 'color-admin/plugins/gritter/js/jquery.gritter.js' %}"></script>
<script src="{% static 'color-admin/js/ui-modal-notification.demo.js' %}"></script>
<!-- end for modal -->
<script src="{% static 'color-admin/plugins/flot/jquery.flot.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/flot/jquery.flot.time.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/flot/jquery.flot.resize.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/flot/jquery.flot.pie.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/sparkline/jquery.sparkline.js' %}"></script>
<script src="{% static 'color-admin/plugins/jquery-jvectormap/jquery-jvectormap-1.2.2.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/jquery-jvectormap/jquery-jvectormap-world-mill-en.js' %}"></script>
<script src="{% static 'color-admin/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js' %}"></script>
<script src="{% static 'color-admin/js/dashboard.min.js' %}"></script>
<script src="{% static 'tiberius/js/tiblib.js' %}"></script>
<script src="{% static 'tiberius/js/control-requests.js' %}"></script>
<script src="{% static 'tiberius/js/arm-requests.js' %}"></script>
<script src="{% static 'color-admin/js/apps.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/switchery/switchery.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/powerange/powerange.min.js' %}"></script>
<script src="{% static 'color-admin/plugins/ionRangeSlider/js/ion-rangeSlider/ion.rangeSlider.min.js' %}"></script>
<script src="{% static 'tiberius/js/control-slider.js' %}"></script>
<script src="{% static 'tiberius/js/arm-slider.js' %}"></script>

<!-- ================== END PAGE LEVEL JS ================== -->

<script>

		$(document).ready(function() {
			App.init();
      ControlRequests.init('{{ruc.ip_address}}');
			ArmRequests.init('{{ruc.ip_address}}', "{{ initial_arm_values | safe }}");
      ControlSliders.init('{{ruc.ip_address}}', {{ initial_speed }});
			ArmControlSliders.init('{{ruc.ip_address}}', {{ initial_arm_speed }});
      Notification.init();
		});









</script>
</body>
</html>
