-------------------------------------------------------------------------------
--                       P O L Y H E D R A    D E M O
--                   Copyright (C) 2005-2015 by Enea Software AB
-------------------------------------------------------------------------------
--    Filename      : ado.net.txt
--    Description   : description of the ado.net client example.
--
-------------------------------------------------------------------------------
-- NOTE: this is ILLUSTRATIVE CODE, provided on an 'as is' basis to help
-- demonstrate one or more features of the Polyhedra product.
-- It may well need adaption for use in a live installation, and
-- Enea Software AB and its agents and distributors do not warrant this code.
-------------------------------------------------------------------------------

INTRODUCTION

This directory contains a demonstration of the use of active queries to display
dynamic data from a Polyhedra RTRDB. Specifically the demonstration dynamically
displays the currency table used in other demos.

SOURCE CODE

The main source files in the example are:

1. Polyhedra ADO.NET Data Provider.sln
   A Microsoft Visual Studio 2012 solution file.

2. PolyForm.cs
   C# demo that uses the Polyhedra ADO.NET Data Provider to dynamically display
   and modify data in the currency table of a Polyhedra RTRDB.

3. PolyForm.Designer.cs
   C# code automatically generated by Microsoft Visual Studio to hold the form
   layout.

4. Program.cs
   C# code main entry point.

COMPILATION

The Visual Studio solution file can build different configurations of the demo.

If you have a 64-bit version of the Polyhedra ADO.NET Data Provider use the
following configuration in Visual Studio:

Configuration = "Debug" or "Release" Platform = "x64"

If you have a 32-bit version of the Polyhedra ADO.NET Data Provider use the
following configuration in Visual Studio:

Configuration = "Debug" or "Release" Platform = "x86"

Once you have set the configuration appropriately click BUILD->Build Solution

Once you have built the solution the executable will be found in one of the
following locations:

demo_ado.net\Polyhedra ADO.NET Data Provider Demo\bin\x64\Debug\PolyDemo.exe
demo_ado.net\Polyhedra ADO.NET Data Provider Demo\bin\x64\Release\PolyDemo.exe
demo_ado.net\Polyhedra ADO.NET Data Provider Demo\bin\x86\Debug\PolyDemo.exe
demo_ado.net\Polyhedra ADO.NET Data Provider Demo\bin\x86\Release\PolyDemo.exe

USAGE

These instructions assume that all components are being executed on the same
computer.

1. Run the RTRDB as described in the Evaluation Guide for the demo_1 sample.

2. Start PolyDemo. This can either be done from Visual Studio or directly from
   within the directory it has been built.
   From Visual Studio click DEBUG->"Start Without Debugging" (or CTRL-F5)

   This should display a DataGridView with the information from the currency
   demo. 
   
3. Start another PolyDemo (select Visual Studio and type CTRL-F5)

4. In one "Polyhedra ADO.NET Data Provider Demo" Window click the "Edit"
   button.

   Click on the usdollar cell for UK and change its value.

   Save the change by clicking on the "Save" button. The change should be
   displayed in the other PolyDemo window.

5. Add a new currency row by clicking "Edit" button and then clicking on the
   "*" in bottom left hand corner of the DataGrid. 

   Click in the blank code cell and set it to  'KRW'
   Click in the blank country cell and set it to 'Korea'
   Click in the blank name cell and set it to 'Won'
   Click in the blank usdollar cell and set it to 1012

   Click on the "Save" button to save the changes to the database.

   The changes should appear in the other PolyDemo window.

6  If you decide you do not want to make a change after clicking the "Edit"
   button you can hit the "Cancel" button to rollback the changes at anytime
   before hitting "Save".

7. Run the Animate client and see the values of usdollar changing.

8. To exit the demo click on the close button of the demo windows and shutdown
   the RTRDB.

DATA CONFLICTS

1. Run the RTRDB as described in the Evaluation Guide for the demo_1 sample.

2. Start two instances of the "Polyhedra ADO.NET Data Provider Demo" as
   described above.

3. Click on the "Edit" button on both demo windows and change the usdollar cell
   for Australia to 2.1 in the first demo and 3.1 in the other. Click on the
   "Save" button in the first demo. Notice that the second demo does not see
   the change. Click the "Save" button in the second demo, 2.1 will now be
   displayed in the second demo and a Message Box will appear to warn that a
   "Data conflict" occurred. 

4. Click on "OK" in the Message Box to make it go away.

5. Try some more changes and notice that a Data Conflict only occurs if the
   same cell is changed in both demos. As long as the changes do not conflict
   they are allowed.   

-------------------------------------------------------------------------------
--                        E n d   o f   F i l e
-------------------------------------------------------------------------------